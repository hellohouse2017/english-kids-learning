/* style.css - æº«é¦¨ç«¥è¶£çµ±ä¸€é¢¨æ ¼ç‰ˆ */

:root {
    /* === ğŸ¨ èª¿è‰²ç›¤ (é¦¬å¡é¾è‰²ç³») === */
    --bg-color: #fff9c4;          /* èƒŒæ™¯ï¼šå¥¶æ²¹é»ƒ */
    --bg-gradient: linear-gradient(135deg, #fff9c4 0%, #ffecb3 100%);
    
    --card-bg: #ffffff;           /* å¡ç‰‡ç™½ */
    --text-main: #5d4037;         /* ä¸»æ–‡å­—ï¼šæ·±å’–å•¡ */
    --text-sub: #8d6e63;          /* å‰¯æ–‡å­—ï¼šæ·ºå’–å•¡ */
    
    /* æŒ‰éˆ•èˆ‡å¼·èª¿è‰² */
    --color-blue: #4fc3f7;        /* å¤©ç©ºè— */
    --color-blue-dark: #039be5;
    --color-green: #81c784;       /* è‰åœ°ç¶  */
    --color-green-dark: #43a047;
    --color-orange: #ffb74d;      /* æ©˜å­æ©˜ */
    --color-orange-dark: #fb8c00;
    --color-pink: #f06292;        /* ç³–æœç²‰ */
    --color-red: #e57373;         /* è­¦ç¤ºç´… */
    
    /* éŠæˆ²å…ƒç´  */
    --house-bg: #e1f5fe;          /* æˆ¿å±‹å€èƒŒæ™¯ */
    --slot-line: #bdbdbd;         /* åº•ç·šé¡è‰² */
}

/* === åŸºç¤è¨­å®š === */
* { box-sizing: border-box; }

body {
    font-family: 'Comic Sans MS', 'Microsoft JhengHei', 'å¾®è»Ÿæ­£é»‘é«”', sans-serif;
    background: var(--bg-gradient);
    color: var(--text-main);
    margin: 0; padding: 0;
    min-height: 100vh;
    text-align: center;
    overflow-x: hidden; /* é˜²æ­¢å·¦å³æ»‘å‹• */
}

a { text-decoration: none; }

/* === é€šç”¨å®¹å™¨ === */
.container {
    max-width: 900px;
    margin: 0 auto;
    padding: 20px 15px 60px; /* ä¸‹æ–¹é ç•™ç©ºé–“çµ¦ footer */
}

/* === æ¨™é¡Œæ¨£å¼ === */
.main-title {
    font-size: 3rem;
    color: var(--color-orange-dark);
    text-shadow: 3px 3px 0px #fff;
    margin: 30px 0 10px;
    font-weight: 900;
    letter-spacing: 2px;
}

.sub-title {
    font-size: 1.2rem;
    color: var(--text-sub);
    margin-bottom: 30px;
    font-weight: bold;
}

/* === å¡ç‰‡é€šç”¨æ¨£å¼ (Menu, Game Stage) === */
.card-style {
    background: var(--card-bg);
    border-radius: 30px;
    box-shadow: 0 10px 25px rgba(93, 64, 55, 0.1); /* æŸ”å’Œé™°å½± */
    border: 4px solid #fff;
    transition: transform 0.2s, box-shadow 0.2s;
}

/* === é¦–é é¸å–® (Menu Grid) === */
.menu-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 25px;
    margin-top: 20px;
}

.menu-card {
    padding: 30px 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    cursor: pointer;
    position: relative;
    top: 0;
}

.menu-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 15px 30px rgba(93, 64, 55, 0.15);
}

.menu-card:active { transform: scale(0.98); }

/* ä¸åŒç­‰ç´šçš„é‚Šæ¡†è‰² */
.menu-card.level-1 { border-bottom: 8px solid var(--color-green); }
.menu-card.level-2 { border-bottom: 8px solid var(--color-orange); }
.menu-card.level-3 { border-bottom: 8px solid var(--color-blue); }

.card-icon { font-size: 4.5rem; margin-bottom: 15px; }
.card-content h2 { margin: 0 0 5px; font-size: 1.5rem; color: var(--text-main); }
.card-content p { margin: 0 0 15px; font-size: 0.9rem; color: var(--text-sub); }
.tag {
    padding: 5px 15px; border-radius: 20px; font-size: 0.85rem; font-weight: bold;
    background: #eee; color: #777;
}
.level-1 .tag { background: #e8f5e9; color: var(--color-green-dark); }
.level-2 .tag { background: #fff3e0; color: var(--color-orange-dark); }
.level-3 .tag { background: #e1f5fe; color: var(--color-blue-dark); }

/* === æŠ¬é ­é¡¯ç¤ºå™¨ (HUD) === */
.game-hud {
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(10px);
    padding: 10px 20px;
    position: sticky; top: 0; z-index: 100;
    box-shadow: 0 4px 15px rgba(0,0,0,0.05);
    border-radius: 0 0 25px 25px;
    margin-bottom: 20px;
}

.top-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px; }
.player-name { font-weight: 900; color: var(--color-blue-dark); font-size: 1.1rem; }
.level-badge { background: #FFD700; color: #fff; padding: 2px 10px; border-radius: 15px; font-size: 0.8rem; text-shadow: 1px 1px 0 rgba(0,0,0,0.1); margin-left: 5px;}

.item-container {
    background: #fff3e0; border: 2px solid #ffe0b2;
    color: var(--color-orange-dark); font-weight: bold;
    padding: 5px 15px; border-radius: 20px; font-size: 0.9rem;
}

.btn-home {
    background: #eceff1; color: #78909c; padding: 8px 15px;
    border-radius: 15px; font-weight: bold; font-size: 0.9rem;
    transition: 0.2s;
}
.btn-home:hover { background: #cfd8dc; }

/* XP ç¶“é©—æ¢ */
.xp-bar-container {
    width: 100%; height: 22px; background: #e0e0e0;
    border-radius: 11px; overflow: hidden; position: relative;
    border: 3px solid #fff; box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}
.xp-bar-fill {
    height: 100%; background: linear-gradient(90deg, #66bb6a, #43a047);
    width: 0%; transition: width 0.5s cubic-bezier(0.34, 1.56, 0.64, 1); /* å½ˆæ€§å‹•ç•« */
}
.xp-text-overlay {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    display: flex; align-items: center; justify-content: center;
    font-size: 0.8rem; font-weight: 900; color: #333; text-shadow: 0 0 2px #fff;
    z-index: 2;
}

/* === å„€è¡¨æ¿ (Dashboard) === */
.dashboard-wrapper {
    display: flex; gap: 20px; margin-bottom: 20px;
    align-items: stretch;
}

.house-section {
    flex: 1.5; background: var(--house-bg); border-radius: 30px; padding: 15px;
    border: 4px solid #fff; position: relative;
    display: flex; flex-direction: column; justify-content: flex-end;
}

.house-wrapper { height: 120px; display: flex; justify-content: center; align-items: flex-end; position: relative; }
.house-icon { font-size: 6rem; z-index: 2; cursor: pointer; transition: transform 0.2s; filter: drop-shadow(0 5px 0 rgba(0,0,0,0.1)); }
.house-icon:hover { transform: scale(1.1); }
.house-icon.bounce { animation: houseBounce 0.6s; }
.house-base { width: 100px; height: 15px; background: rgba(0,0,0,0.1); border-radius: 50%; position: absolute; bottom: 5px; z-index: 1; }

.house-info { margin-top: 5px; }
.house-title { font-weight: 900; color: var(--color-blue-dark); background: #fff; padding: 5px 15px; border-radius: 20px; display: inline-block; }
.next-level-hint { font-size: 0.8rem; color: var(--text-sub); margin: 5px 0 0; }

.game-rules-panel {
    flex: 1; background: #fffde7; border-radius: 30px; padding: 20px;
    border: 4px solid #fff; text-align: left;
    display: flex; flex-direction: column; justify-content: center;
}
.game-rules-panel h3 { margin: 0 0 10px; color: var(--color-orange-dark); text-align: center; border-bottom: 2px dashed #ffe0b2; padding-bottom: 5px; }
.game-rules-panel li { margin-bottom: 6px; font-size: 0.9rem; color: var(--text-main); }

/* === éŠæˆ²å€ (Game Stage) === */
.game-stage {
    padding: 30px; position: relative;
}

.q-tag { background: var(--color-blue); color: white; padding: 5px 15px; border-radius: 20px; font-weight: bold; font-size: 0.9rem; }

.question-area { margin: 20px 0; }
.big-icon { font-size: 5rem; margin: 10px 0; animation: float 3s ease-in-out infinite; }
.cn-text { font-size: 1.5rem; font-weight: 900; color: var(--text-main); background: #f5f5f5; padding: 5px 25px; border-radius: 50px; display: inline-block; }
.hint-text { font-size: 3rem; font-weight: 900; color: var(--color-pink); letter-spacing: 3px; opacity: 0; transition: 0.3s; height: 50px; margin: 10px 0; }
.hint-text.visible { opacity: 1; }

/* æŒ‰éˆ•ç¾¤çµ„ */
.btn-group { display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; margin-top: 15px;}
.btn-replay, .btn-hint {
    border: none; padding: 12px 25px; border-radius: 50px;
    font-weight: bold; font-size: 1rem; cursor: pointer; color: white;
    box-shadow: 0 5px 0 rgba(0,0,0,0.15); transition: 0.1s; min-width: 140px;
}
.btn-replay { background: var(--color-orange); }
.btn-replay:active { background: var(--color-orange-dark); transform: translateY(4px); box-shadow: none; }

.btn-hint { background: var(--color-pink); }
.btn-hint:active { transform: translateY(4px); box-shadow: none; }
.btn-hint.use-ticket { background: var(--color-orange); box-shadow: 0 5px 0 #e65100; }
.btn-hint:disabled { background: #e0e0e0; color: #999; box-shadow: none; cursor: not-allowed; }

/* æ‹¼å­—æ ¼èˆ‡æŒ‰éˆ• */
.slots-container { display: flex; justify-content: center; gap: 8px; min-height: 60px; margin: 20px 0; flex-wrap: wrap; }
.slot {
    width: 45px; height: 55px;
    border-bottom: 5px solid var(--slot-line);
    font-size: 30px; font-weight: 900; color: var(--color-blue-dark);
    display: flex; align-items: center; justify-content: center;
    background: #fafafa; border-radius: 10px 10px 0 0;
}

.pool-container { display: flex; justify-content: center; gap: 10px; margin: 0 auto 20px; max-width: 600px; flex-wrap: wrap; }
.letter-btn {
    width: 55px; height: 55px;
    background: white; border: 2px solid var(--color-blue);
    color: var(--color-blue-dark); font-size: 24px; font-weight: 900;
    border-radius: 15px; cursor: pointer;
    box-shadow: 0 4px 0 var(--color-blue); transition: 0.1s;
}
.letter-btn:active { transform: translateY(4px); box-shadow: none; }
.letter-btn.used { background: #f5f5f5; border-color: #eee; color: #e0e0e0; box-shadow: none; transform: translateY(4px); cursor: default; }

/* è¼¸å…¥æ¡† (Typing) */
.typing-box {
    width: 80%; max-width: 300px; padding: 15px;
    font-size: 1.8rem; font-family: monospace; text-align: center;
    border: 4px solid var(--color-blue); border-radius: 20px;
    outline: none; color: var(--text-main); letter-spacing: 5px; text-transform: uppercase;
    transition: 0.2s;
}
.typing-box:focus { border-color: var(--color-pink); transform: scale(1.05); }
.typing-box.correct-anim { background: #e8f5e9; border-color: var(--color-green); color: var(--color-green-dark); }
.typing-box.wrong-anim { animation: shake 0.4s; background: #ffebee; border-color: var(--color-red); }

/* æ“ä½œæŒ‰éˆ• (é€€æ ¼/é‡å¯«) */
.control-row { display: flex; justify-content: center; gap: 15px; margin-bottom: 20px; }
.btn-clear { background: #cfd8dc; color: #546e7a; border: none; padding: 8px 20px; border-radius: 20px; cursor: pointer; font-weight: bold; }
.btn-backspace { background: var(--color-red); color: white; border: none; padding: 8px 20px; border-radius: 20px; cursor: pointer; font-weight: bold; box-shadow: 0 4px 0 #c62828; }
.btn-backspace:active { transform: translateY(4px); box-shadow: none; }

/* çµæœèˆ‡ä¸‹ä¸€æ­¥ */
.result-msg { font-size: 1.5rem; margin-bottom: 10px; font-weight: bold; min-height: 1.5em; }
.btn-next {
    background: var(--color-green); color: white; border: none;
    padding: 15px 50px; border-radius: 50px; font-size: 1.5rem; font-weight: bold;
    cursor: pointer; box-shadow: 0 6px 0 #2e7d32;
    animation: pop 0.6s infinite alternate; width: 100%; max-width: 300px;
}

/* === å½ˆçª—èˆ‡é®ç½© === */
.overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); backdrop-filter: blur(5px); z-index: 9999; display: flex; justify-content: center; align-items: center; padding: 20px; }
.modal { background: #fff; padding: 30px; border-radius: 30px; width: 100%; max-width: 400px; box-shadow: 0 20px 50px rgba(0,0,0,0.2); animation: bounceIn 0.5s; border: 5px solid #fff; }
.start-modal { border-color: var(--color-blue); }
.start-modal h1 { color: var(--color-blue-dark); margin-bottom: 20px; }
.input-group label { display: block; margin-bottom: 10px; font-weight: bold; color: var(--text-sub); }
.input-group input { width: 100%; padding: 15px; border: 3px solid #eee; border-radius: 15px; font-size: 1.2rem; text-align: center; color: var(--text-main); }
.voice-selection { display: flex; gap: 15px; margin-top: 20px; }
.btn-voice { flex: 1; padding: 15px; border: none; border-radius: 20px; cursor: pointer; color: white; font-weight: bold; font-size: 1.1rem; box-shadow: 0 5px 0 rgba(0,0,0,0.1); }
.btn-voice:active { transform: translateY(4px); box-shadow: none; }
.male { background: var(--color-blue); }
.female { background: var(--color-pink); }

/* å‡ç´šå½ˆçª— */
.levelup-card { background: radial-gradient(circle, #fff, #fffde7); border-color: #FFD700; text-align: center; }
.levelup-header { font-size: 2.2rem; color: #ffab00; font-weight: 900; margin-bottom: 5px; }
.new-house-icon { font-size: 6rem; margin: 15px 0; animation: houseBounce 1s infinite; }
.reward-box { background: #fff3e0; border: 2px dashed #ffb74d; padding: 15px; border-radius: 15px; text-align: left; margin: 15px 0; }
.reward-item { background: white; padding: 8px; border-radius: 10px; margin-top: 5px; font-weight: bold; color: var(--text-main); box-shadow: 0 2px 0 rgba(0,0,0,0.05); }
.btn-confirm { background: var(--color-green); color: white; border: none; padding: 15px 40px; border-radius: 50px; font-size: 1.3rem; font-weight: bold; margin-top: 10px; box-shadow: 0 5px 0 #2e7d32; cursor: pointer; }
.btn-confirm:active { transform: translateY(4px); box-shadow: none; }

/* é å°¾ */
.game-footer { margin-top: 40px; padding: 20px; font-size: 0.85rem; color: #9e9e9e; background: rgba(255,255,255,0.5); border-radius: 20px; }
.footer-content { display: flex; flex-direction: column; gap: 8px; align-items: center; }
.counter-box, .date-box { background: white; padding: 5px 15px; border-radius: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
.highlight-num { color: var(--color-orange); font-weight: bold; }

/* === å‹•ç•« Keyframes === */
@keyframes pop { from { transform: scale(1); } to { transform: scale(1.05); } }
@keyframes bounceIn { from { transform: scale(0.5); opacity: 0; } to { transform: scale(1); opacity: 1; } }
@keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
@keyframes houseBounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
@keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } }
.shake-screen { animation: shake 0.4s; background: #ffcdd2; }
.combo-text { position: absolute; top: 70px; right: 20px; font-size: 1.8rem; font-weight: 900; color: #ffeb3b; text-shadow: 2px 2px 0 #ff9800; transform: scale(0); transition: 0.3s; z-index: 101; }
.combo-text.show { transform: scale(1); animation: pop 0.3s; }
.floating-text { position: absolute; font-weight: 900; font-size: 1.5rem; text-shadow: 2px 2px 0 #fff; z-index: 200; pointer-events: none; animation: floatUpFade 1.2s forwards; }
.xp-plus { color: var(--color-green-dark); }
.xp-minus { color: var(--color-red); }
@keyframes floatUpFade { 0% { opacity: 1; transform: translateY(0) scale(1); } 100% { opacity: 0; transform: translateY(-50px) scale(1.2); } }

/* === RWD æ‰‹æ©Ÿç‰ˆèª¿æ•´ (Mobile) === */
@media (max-width: 768px) {
    .menu-grid { display: flex; flex-direction: column; }
    .menu-card { flex-direction: row; text-align: left; padding: 20px; }
    .card-icon { font-size: 3rem; margin-bottom: 0; margin-right: 20px; }
    
    .dashboard-wrapper { flex-direction: column; }
    .house-section, .game-rules-panel { width: 100%; }
    .house-wrapper { height: 100px; }
    .house-icon { font-size: 5rem; }
    
    .game-hud { padding: 8px 15px; }
    .top-row { font-size: 0.9rem; }
    .hp-container { font-size: 1rem; }
    
    .category-grid { grid-template-columns: 1fr 1fr; }
    
    .slot { width: 38px; height: 48px; font-size: 24px; border-width: 4px; }
    .pool-container { gap: 8px; }
    .letter-btn { width: 48px; height: 48px; font-size: 22px; }
    
    .btn-group { flex-direction: column; width: 100%; }
    .btn-replay, .btn-hint { width: 100%; }
}