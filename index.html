<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å–®å­—å¤§å†’éšª | Word Adventure</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['"Noto Sans TC"', 'sans-serif'], game: ['"Fredoka"', 'sans-serif'] },
                    colors: { primary: '#6366f1', secondary: '#ec4899', accent: '#f59e0b' }
                }
            }
        }
    </script>
    <style>
        /* æ•¸å­—å­—å‹å„ªåŒ–ï¼šç­‰å¯¬å­—é«”è®“æ•¸å­—ä¸è·³å‹• */
        .nums { font-variant-numeric: tabular-nums; font-family: 'Courier New', monospace; font-weight: bold; }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-indigo-600 to-purple-700 font-sans p-4 text-white">

    <div class="text-center mb-8 animate-bounce mt-10">
        <h1 class="text-6xl font-game font-bold drop-shadow-lg mb-2">Word Adventure</h1>
        <p class="text-xl opacity-90 tracking-wide">å¾å–®å­—æ–°æ‰‹é€²åŒ–æˆå‚³å¥‡å¤§å¸«ï¼</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-5xl flex-grow">
        
        <a href="learn.html" class="relative group bg-white text-gray-800 rounded-3xl p-6 shadow-2xl transform hover:-translate-y-2 transition duration-300 cursor-pointer border-b-8 border-yellow-400 active:border-b-0 active:translate-y-0 flex flex-col items-center justify-center">
            <div class="absolute -top-4 left-1/2 transform -translate-x-1/2 bg-yellow-400 text-white font-bold px-4 py-1 rounded-full text-sm shadow-md">STEP 1 é ç¿’</div>
            <div class="text-6xl mb-4 group-hover:scale-110 transition">ğŸ“–</div>
            <h2 class="text-2xl font-bold text-yellow-500 mb-2">å–®å­—åœ–é‘‘</h2>
            <p class="text-gray-400 text-center text-sm">å…ˆçœ‹éã€è½éï¼Œå»ºç«‹è¦–è¦ºèˆ‡è½è¦ºè¨˜æ†¶ã€‚</p>
        </a>

        <a href="game.html" class="relative group bg-white text-gray-800 rounded-3xl p-6 shadow-2xl transform hover:-translate-y-2 transition duration-300 cursor-pointer border-b-8 border-indigo-400 active:border-b-0 active:translate-y-0 flex flex-col items-center justify-center">
            <div class="absolute -top-4 left-1/2 transform -translate-x-1/2 bg-indigo-500 text-white font-bold px-4 py-1 rounded-full text-sm shadow-md">STEP 2 ç·´ç¿’</div>
            <div class="text-6xl mb-4 group-hover:scale-110 transition">ğŸ§©</div>
            <h2 class="text-2xl font-bold text-indigo-600 mb-2">æ‹¼å­—å†’éšª</h2>
            <p class="text-gray-400 text-center text-sm">çœ‹åœ–æ‹¼å­—ï¼é‹ç”¨è¨˜æ†¶æŠŠå–®å­—çµ„è£èµ·ä¾†ã€‚</p>
        </a>

        <a href="typing.html" class="relative group bg-white text-gray-800 rounded-3xl p-6 shadow-2xl transform hover:-translate-y-2 transition duration-300 cursor-pointer border-b-8 border-pink-400 active:border-b-0 active:translate-y-0 flex flex-col items-center justify-center">
            <div class="absolute -top-4 left-1/2 transform -translate-x-1/2 bg-pink-500 text-white font-bold px-4 py-1 rounded-full text-sm shadow-md">STEP 3 æŒ‘æˆ°</div>
            <div class="text-6xl mb-4 group-hover:scale-110 transition">âŒ¨ï¸</div>
            <h2 class="text-2xl font-bold text-pink-500 mb-2">æ‰“å­—ç‰¹è¨“</h2>
            <p class="text-gray-400 text-center text-sm">ä¸çœ‹æç¤ºï¼é å¤§è…¦èˆ‡æ‰‹é€Ÿç›´æ¥è¼¸å‡ºå–®å­—ã€‚</p>
        </a>

    </div>

    <footer class="mt-12 mb-6 w-full flex flex-col items-center gap-4">
        
        <div class="flex items-center gap-4 bg-black/20 backdrop-blur-sm px-6 py-2 rounded-full border border-white/10 shadow-lg">
            <div class="flex items-center gap-2 border-r border-white/20 pr-4">
                <span class="text-xs text-gray-300 uppercase tracking-widest">Total</span>
                <span id="count-total" class="nums text-yellow-300 text-sm">12,580</span>
            </div>
            <div class="flex items-center gap-2">
                <span class="text-xs text-gray-300 uppercase tracking-widest">Today</span>
                <span id="count-today" class="nums text-green-300 text-sm">156</span>
            </div>
        </div>

        <p class="text-[10px] font-light tracking-widest opacity-60 uppercase">
            Â© 2025 Designed by Tangyu Kao.
        </p>
    </footer>

    <script>
        (function() {
            // è¨­å®šåƒæ•¸
            const KEY_STATS = 'wa_stats_v1'; // å„²å­˜éµå
            const COOLDOWN_MS = 5 * 60 * 1000; // 5åˆ†é˜ (æ¯«ç§’)
            
            // é è¨­åŸºæ•¸ (è®“ç¶²ç«™çœ‹èµ·ä¾†ä¸é‚£éº¼å†·æ¸…)
            // å¯¦éš›ä¸Šç·šå¾Œï¼Œæœƒåœ¨é€™å€‹åŸºç¤ä¸Šç´¯åŠ 
            const BASE_TOTAL = 12580; 
            const BASE_TODAY = 128;   

            // 1. è®€å–èˆŠè³‡æ–™
            let stats = JSON.parse(localStorage.getItem(KEY_STATS)) || {
                total: 0,
                today: 0,
                lastVisit: 0,     // ä¸Šæ¬¡è¨ªå•æ™‚é–“æˆ³è¨˜
                lastDate: ''      // ä¸Šæ¬¡è¨ªå•æ—¥æœŸ (ç”¨ä¾†åˆ¤æ–·æ›æ—¥)
            };

            // 2. å–å¾—ç¾åœ¨æ™‚é–“
            const now = new Date();
            const todayStr = now.toDateString(); // e.g., "Sun Dec 01 2024"

            let needSave = false;

            // 3. æª¢æŸ¥æ˜¯å¦è·¨æ—¥ (æ›æ—¥å‰‡é‡ç½®ä»Šæ—¥äººæ•¸)
            if (stats.lastDate !== todayStr) {
                stats.today = 0; // æ–°çš„ä¸€å¤©æ­¸é›¶ (æˆ–å¯è¨­ç‚º BASE_TODAY)
                stats.lastDate = todayStr;
                needSave = true;
            }

            // 4. æª¢æŸ¥å†·å»æ™‚é–“ (è¶…é5åˆ†é˜æ‰è¨ˆæ•¸)
            if (now.getTime() - stats.lastVisit > COOLDOWN_MS) {
                stats.total++;
                stats.today++;
                stats.lastVisit = now.getTime();
                needSave = true;
            }

            // 5. å„²å­˜è³‡æ–™
            if (needSave) {
                localStorage.setItem(KEY_STATS, JSON.stringify(stats));
            }

            // 6. æ¸²æŸ“ç•«é¢ (åŸºæ•¸ + å¯¦éš›è¨ˆæ•¸)
            // é€™æ¨£åšå¯ä»¥ä¿è­‰æ•¸å­—æ˜¯ã€ŒçœŸå¯¦é‹ä½œã€çš„ï¼Œä½†èµ·é»æ¯”è¼ƒæ¼‚äº®
            const displayTotal = BASE_TOTAL + stats.total;
            // ä»Šæ—¥äººæ•¸å¦‚æœå‰›è·¨æ—¥æœƒæ˜¯ 0ï¼Œç‚ºäº†ç¾è§€æˆ‘å€‘å¯ä»¥åŠ ä¸ŠåŸºæ•¸ï¼Œæˆ–è€…ç›´æ¥é¡¯ç¤ºçœŸå¯¦æ•¸æ“š
            // é€™è£¡ç¤ºç¯„ï¼šçœŸå¯¦ä»Šæ—¥è¨ˆæ•¸ + åŸºç¤ç†±åº¦ (è®“æ¯å¤©çœ‹èµ·ä¾†éƒ½è‡³å°‘æœ‰ç™¾äºº)
            const displayToday = BASE_TODAY + stats.today; 

            document.getElementById('count-total').innerText = displayTotal.toLocaleString();
            document.getElementById('count-today').innerText = displayToday.toLocaleString();
        })();
    </script>

</body>
</html>
